<div class="max-w-2xl mx-auto">
  <!-- Header with Search -->
  <div class="sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-800 px-4 py-3 mb-0 z-50">
    <div class="flex items-center space-x-3 mb-4">
      <%= link_to trends_path, class: "text-white hover:bg-gray-900 rounded-full p-2 transition-colors", data: { turbo: true } do %>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
      <% end %>
      <div>
        <h1 class="text-xl font-bold text-white">#<%= @phrase %></h1>
        <p class="text-sm text-gray-500">Trend konu</p>
      </div>
    </div>
    
    <!-- Search Form -->
    <div class="relative mb-4" data-controller="autocomplete" data-autocomplete-url-value="<%= search_path %>" data-action="click@window->autocomplete#clickOutside">
      <%= form_with url: search_path, method: :get, local: true, class: "relative" do |form| %>
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
          </svg>
        </div>
        <%= form.text_field :q, 
            placeholder: "Search for posts and users...", 
            class: "w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",
            data: { 
              autocomplete_target: "input",
              action: "input->autocomplete#search keydown.escape->autocomplete#hideResults"
            } %>
        <div data-autocomplete-target="results" class="hidden"></div>
      <% end %>
    </div>
  </div>
  
  <!-- Tabs -->
  <div class="border-b border-gray-800 sticky top-32 bg-black z-40">
    <div class="flex">
      <%= link_to "/trend/#{ERB::Util.url_encode(@phrase)}?tab=top", 
          class: "flex-1 text-center py-4 text-sm font-medium transition-colors #{'text-white border-b-2 border-blue-500' if @tab == 'top'} #{'text-gray-500 hover:text-gray-300' if @tab != 'top'}", 
          data: { turbo_action: "advance" } do %>
        PopÃ¼ler
      <% end %>
      <%= link_to "/trend/#{ERB::Util.url_encode(@phrase)}?tab=latest", 
          class: "flex-1 text-center py-4 text-sm font-medium transition-colors #{'text-white border-b-2 border-blue-500' if @tab == 'latest'} #{'text-gray-500 hover:text-gray-300' if @tab != 'latest'}", 
          data: { turbo_action: "advance" } do %>
        GÃ¼ncel
      <% end %>
    </div>
  </div>
  
  <!-- Posts -->
  <div class="bg-black min-h-screen">
    <div id="posts_list">
      <% if @posts.any? %>
        <%= render 'posts_page', posts: @posts %>
      <% else %>
        <div class="px-4 py-12 text-center">
          <div class="text-gray-500 text-2xl mb-3">ðŸ“Š</div>
          <h3 class="text-lg font-semibold text-white mb-2">HenÃ¼z gÃ¶nderi yok</h3>
          <p class="text-gray-500 text-sm">Bu konu hakkÄ±nda henÃ¼z gÃ¶nderi paylaÅŸÄ±lmamÄ±ÅŸ.</p>
        </div>
      <% end %>
    </div>
  </div>
</div>